# SNS 앱 기획안

> **프로토타입 프로젝트 안내**
> - 데이터베이스는 Supabase MCP를 사용해서 구현 예정
> - 현재 프로토타입 프로젝트이기 때문에 이메일 인증이나 보안 기능 등을 사용하지 않음

---

## 1) 핵심 기능 설계
- 게시물 업로드
- 팔로우/팔로잉
- 유저 검색
- 메세지(DM)

---

## 2) 페이지 구조 설계

### 로그인 페이지
- 로고
- 아이디 입력란
- 비밀번호 입력란
- 로그인 버튼
- 아이디/비밀번호 찾기 링크
- 회원가입 버튼

### 회원가입 페이지
- 아이디 입력란
- 닉네임 입력란
- 비밀번호 입력란
- 비밀번호 확인 입력란
- 회원가입 버튼 (성공 시 로그인 페이지로 이동)
- 뒤로가기 버튼

### 아이디/비밀번호 찾기 페이지
- 아이디 찾기 탭
	- 닉네임 입력란
	- 아이디 찾기 버튼
	- 결과 표시 영역
- 비밀번호 찾기 탭
	- 아이디 입력란
	- 새 비밀번호 설정
- 로그인으로 돌아가기 버튼

---

### 메인페이지 (피드/타임라인)

#### 상단바 (fixed)
- 로고
- 알림 아이콘
- 메세지 아이콘

#### 메인 콘텐츠 - 타임라인 영역
- **게시물(피드) 요소**
	- 프로필 영역
		- 프로필 이미지 (클릭 시 해당 프로필 페이지로)
		- 닉네임 (클릭 시 해당 프로필 페이지로)
		- 위치/장소
		- ... 메뉴 (수정, 삭제, 신고, 링크 복사)
	- 이미지 영역
		- 이미지 슬라이드
		- 하단 이미지 순서 UI (도트형)
	- 리액션 영역
		- 좋아요, 댓글, 공유하기, 저장하기 버튼
		- 좋아요 수
		- 캡션 (한 줄 표시 + 더보기)
		- 댓글 수 + 모두보기 (클릭 시 게시물 상세 페이지)
		- 게시물 업로드 시간

#### 하단바 (fixed)
- 홈 (메인페이지)
- 검색 (검색 페이지)
- 게시물 업로드 (업로드 페이지)
- 프로필 (내 프로필 페이지)

---

### 알림 페이지
- 뒤로가기 버튼
- 알림 목록
	- 내 게시물 좋아요 (클릭 시 해당 게시물 상세 페이지로)
	- 나를 팔로우 (클릭 시 팔로우한 사람 프로필 페이지로)
	- 내 게시물 댓글 (클릭 시 해당 게시물 상세 페이지 → 해당 댓글로 스크롤)
- 빈 상태: "아직 알림이 없습니다"

---

### 메세지 페이지
- 뒤로가기 버튼
- 대화 시작하기 버튼 (유저 검색 → 빈 채팅방 이동)
- 메세지 목록 영역 (채팅방 목록)
	- 프로필 이미지, 닉네임, 마지막 메시지 미리보기, 시간
	- 빈 채팅방 상태에서 나갈 경우 실제 채팅방 생성하지 않음
	- 1개 이상의 채팅을 보내야 실제 생성
- 빈 상태: "아직 대화가 없습니다"

#### 채팅방 페이지
- 상단: 뒤로가기 버튼, 프로필 이미지, 닉네임
- 채팅 영역
	- 좌측: 상대방 채팅 UI
	- 우측: 내 채팅 UI
	- 메시지 시간 표시
- 하단: 채팅 입력란 + 전송 버튼

---

### 검색 페이지
- 검색창 (상단 고정)
	- 검색어 입력란
	- 검색 버튼 / 취소 버튼
- 최근 검색 기록 영역
	- 최근 검색한 유저 목록
	- 개별 삭제 버튼
	- 전체 삭제 버튼
- 검색 결과 영역
	- 유저 프로필 이미지
	- 닉네임
	- 바이오 (한 줄)
	- 팔로우 버튼
- 빈 상태: "검색 결과가 없습니다"

---

### 게시물 업로드 페이지
- 상단바, 하단바를 가리는 전체 화면
- 좌측 상단: 뒤로가기 버튼 (X)
- 우측 상단: 다음 버튼

#### 1단계: 사진 선택
- 상단: 선택된 이미지 미리보기 영역
- 하단: 스크롤 가능한 갤러리 그리드
	- 이미지 선택 시 상단에 추가
	- 다중 선택 가능
- (프로토타입: Unsplash 또는 Lorem Picsum 사용, 유저당 9개 이미지 제공)

#### 2단계: 캡션 입력
- 선택된 이미지 미리보기
- 캡션 내용 입력란
- 위치 추가 (선택)
- 하단: 업로드 버튼

---

### 게시물 상세 페이지
- 상단: 뒤로가기 버튼, 프로필 이미지, 닉네임, 위치/장소, ... 메뉴
- 이미지 영역
- 좋아요, 댓글, 공유하기, 저장하기 버튼
- 좋아요 수
- 캡션
- 댓글 영역
	- 댓글 수
	- 댓글 입력란
	- 댓글 목록 (인기순 3개 상위 배치, 나머지 최신순)
		- 댓글 요소
			- 프로필 이미지, 닉네임
			- ... 메뉴 (수정, 삭제, 신고)
			- 댓글 내용
			- 댓글 작성 시간
			- 댓글 좋아요 버튼 + 수

---

### 프로필 페이지
- 닉네임 (상단)
- 설정 아이콘 (내 프로필일 경우)
- 프로필 이미지
- 게시물 수
- 팔로워 수 (클릭 시 팔로워 목록 페이지)
- 팔로잉 수 (클릭 시 팔로잉 목록 페이지)
- 바이오
- **내 프로필일 경우**
	- 프로필 편집 버튼
	- 프로필 공유 버튼
	- 저장됨 버튼 (저장된 게시물 페이지로)
- **타인 프로필일 경우**
	- 팔로우/언팔로우 버튼
	- 메세지 버튼 (해당 유저와의 채팅방으로)
- 게시물 이미지 그리드 영역 (3열)
- 빈 상태: "아직 게시물이 없습니다"

---

### 프로필 편집 페이지
- 뒤로가기 버튼
- 완료 버튼
- 프로필 이미지 영역
	- 현재 프로필 이미지
	- 사진 변경 버튼
- 닉네임 입력란
- 바이오 입력란
- 성별 선택 (선택)

---

### 팔로워 목록 페이지
- 뒤로가기 버튼
- 페이지 제목: "팔로워"
- 검색창 (팔로워 내 검색)
- 팔로워 목록
	- 프로필 이미지
	- 닉네임
	- 바이오 (한 줄)
	- 팔로우/팔로잉 버튼 (맞팔 여부에 따라)
	- 삭제 버튼 (내 프로필의 팔로워일 경우)
- 빈 상태: "아직 팔로워가 없습니다"

### 팔로잉 목록 페이지
- 뒤로가기 버튼
- 페이지 제목: "팔로잉"
- 검색창 (팔로잉 내 검색)
- 팔로잉 목록
	- 프로필 이미지
	- 닉네임
	- 바이오 (한 줄)
	- 팔로잉 버튼 (언팔로우 가능)
- 빈 상태: "아직 팔로잉하는 사람이 없습니다"

---

### 저장된 게시물 페이지
- 뒤로가기 버튼
- 페이지 제목: "저장됨"
- 저장된 게시물 그리드 (3열)
	- 이미지 썸네일
	- 클릭 시 해당 게시물 상세 페이지로
- 빈 상태: "저장된 게시물이 없습니다"

---

### 설정 페이지
- 뒤로가기 버튼
- 설정 메뉴 목록(비밀번호 변경과 계정 삭제를 제외하고는 목업으로만 구현)
	- 계정
		- 비밀번호 변경
		- 계정 삭제
	- 알림
		- 푸시 알림 설정 (좋아요, 댓글, 팔로우, 메시지)
	- 개인정보
		- 비공개 계정 설정
		- 차단된 계정 목록
	- 정보
		- 서비스 이용약관
		- 개인정보 처리방침
		- 앱 버전
	- 로그아웃 버튼
	- 회원탈퇴 버튼

---

## 3) 데이터베이스 설계

> Supabase (PostgreSQL) 기반 설계
(supabase mcp를 사용할때, 기존 테이블과 중복되지 않도록 '새로운 테이블'로 추가해야함)

### 테이블 구조

#### 1. users (유저)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| username | VARCHAR(50) | 아이디 (unique) |
| nickname | VARCHAR(50) | 닉네임 |
| password | VARCHAR(255) | 비밀번호 |
| profile_image | TEXT | 프로필 이미지 URL |
| bio | VARCHAR(150) | 자기소개 |
| gender | VARCHAR(10) | 성별 (선택) |
| is_private | BOOLEAN | 비공개 계정 여부 (기본: false) |
| created_at | TIMESTAMP | 가입일 |

#### 2. posts (게시물)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| user_id | UUID | FK → users.id |
| caption | TEXT | 게시물 내용 |
| location | VARCHAR(100) | 위치/장소 (선택) |
| created_at | TIMESTAMP | 작성일 |
| updated_at | TIMESTAMP | 수정일 |

#### 3. post_images (게시물 이미지)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| post_id | UUID | FK → posts.id |
| image_url | TEXT | 이미지 URL |
| display_order | INT | 이미지 순서 (1, 2, 3...) |

#### 4. comments (댓글)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| post_id | UUID | FK → posts.id |
| user_id | UUID | FK → users.id |
| content | TEXT | 댓글 내용 |
| created_at | TIMESTAMP | 작성일 |
| updated_at | TIMESTAMP | 수정일 |

#### 5. likes (좋아요)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| user_id | UUID | FK → users.id |
| target_type | VARCHAR(20) | 'post' 또는 'comment' |
| target_id | UUID | 게시물 또는 댓글 ID |
| created_at | TIMESTAMP | 좋아요 누른 시간 |

#### 6. follows (팔로우)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| follower_id | UUID | FK → users.id (팔로우 하는 사람) |
| following_id | UUID | FK → users.id (팔로우 받는 사람) |
| created_at | TIMESTAMP | 팔로우 시간 |

#### 7. saved_posts (저장된 게시물)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| user_id | UUID | FK → users.id |
| post_id | UUID | FK → posts.id |
| created_at | TIMESTAMP | 저장 시간 |

#### 8. chat_rooms (채팅방)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| user1_id | UUID | FK → users.id |
| user2_id | UUID | FK → users.id |
| created_at | TIMESTAMP | 생성일 |
| last_message_at | TIMESTAMP | 마지막 메시지 시간 |

#### 9. messages (메시지)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| chat_room_id | UUID | FK → chat_rooms.id |
| sender_id | UUID | FK → users.id (보낸 사람) |
| content | TEXT | 메시지 내용 |
| created_at | TIMESTAMP | 전송 시간 |
| is_read | BOOLEAN | 읽음 여부 |

#### 10. notifications (알림)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| user_id | UUID | FK → users.id (알림 받는 사람) |
| actor_id | UUID | FK → users.id (알림 발생시킨 사람) |
| type | VARCHAR(20) | 'like', 'comment', 'follow' |
| target_id | UUID | 관련 게시물/댓글 ID (선택) |
| is_read | BOOLEAN | 읽음 여부 |
| created_at | TIMESTAMP | 알림 생성 시간 |

#### 11. search_history (검색 기록)
| 컬럼명 | 타입 | 설명 |
|--------|------|------|
| id | UUID | PK, 자동생성 |
| user_id | UUID | FK → users.id (검색한 사람) |
| searched_user_id | UUID | FK → users.id (검색된 유저) |
| created_at | TIMESTAMP | 검색 시간 |

---

### ERD 관계도 (텍스트)

```
users ─┬─< posts ─< post_images
       │     └─< comments
       │     └─< likes (target_type='post')
       │
       ├─< comments ─< likes (target_type='comment')
       │
       ├─< follows (follower_id)
       ├─< follows (following_id)
       │
       ├─< saved_posts
       │
       ├─< chat_rooms (user1_id, user2_id)
       │     └─< messages
       │
       ├─< notifications (user_id, actor_id)
       │
       └─< search_history (user_id, searched_user_id)
```

---

### 주요 인덱스
- `users.username` - 로그인, 아이디 찾기
- `users.nickname` - 유저 검색
- `posts.user_id` - 프로필 게시물 조회
- `posts.created_at` - 타임라인 정렬
- `follows.follower_id` - 팔로잉 목록
- `follows.following_id` - 팔로워 목록
- `likes.target_type, target_id` - 좋아요 조회
- `notifications.user_id, is_read` - 알림 조회

## 4) 디자인 설계

> 친근하고 소프트한 느낌 / 올리브 그린 컬러 / 라이트 모드 전용

---

### 디자인 컨셉
- **키워드**: 자연스러움, 편안함, 친근함
- **느낌**: 차분하고 눈이 편안한 디자인
- **스타일**: 소프트 UI + 둥근 모서리

---

### 컬러 팔레트

#### Primary (메인 컬러)
| 용도 | 색상명 | HEX | 사용처 |
|------|--------|-----|--------|
| Primary | 올리브 그린 | `#6B8E23` | 메인 버튼, 강조 요소 |
| Primary Light | 연한 올리브 | `#8FBC8F` | 호버 상태, 보조 강조 |
| Primary Dark | 진한 올리브 | `#556B2F` | 액티브 상태, 텍스트 강조 |

#### Background (배경)
| 용도 | 색상명 | HEX | 사용처 |
|------|--------|-----|--------|
| Background | 크림 화이트 | `#F5F5F5` | 전체 배경 |
| Surface | 순수 화이트 | `#FFFFFF` | 카드, 모달, 입력창 |
| Surface Alt | 연한 그레이 | `#EEEEEE` | 구분선, 비활성 영역 |

#### Text (텍스트)
| 용도 | 색상명 | HEX | 사용처 |
|------|--------|-----|--------|
| Text Primary | 다크 그레이 | `#333333` | 본문, 제목 |
| Text Secondary | 미디엄 그레이 | `#666666` | 부가 정보, 힌트 |
| Text Tertiary | 라이트 그레이 | `#999999` | 비활성 텍스트, 플레이스홀더 |

#### Semantic (시맨틱)
| 용도 | 색상명 | HEX | 사용처 |
|------|--------|-----|--------|
| Error | 소프트 레드 | `#E57373` | 에러 메시지, 삭제 버튼 |
| Success | 소프트 그린 | `#81C784` | 성공 메시지 |
| Warning | 소프트 옐로우 | `#FFD54F` | 경고 메시지 |
| Like | 소프트 레드 | `#E57373` | 좋아요 하트 |

---

### 타이포그래피

#### 폰트
- **한글**: Pretendard 또는 Noto Sans KR
- **영문/숫자**: Inter 또는 시스템 폰트

#### 크기 체계
| 용도 | 크기 | 굵기 | 사용처 |
|------|------|------|--------|
| H1 | 24px | Bold (700) | 페이지 타이틀 |
| H2 | 20px | SemiBold (600) | 섹션 제목 |
| H3 | 18px | SemiBold (600) | 카드 제목 |
| Body | 16px | Regular (400) | 본문, 캡션 |
| Body Small | 14px | Regular (400) | 부가 정보 |
| Caption | 12px | Regular (400) | 시간, 힌트 텍스트 |

---

### 컴포넌트 스타일

#### 버튼
| 타입 | 배경 | 텍스트 | 모서리 |
|------|------|--------|--------|
| Primary | `#6B8E23` | `#FFFFFF` | 10px |
| Secondary | `#FFFFFF` | `#6B8E23` (테두리) | 10px |
| Text | 투명 | `#6B8E23` | - |
| Danger | `#E57373` | `#FFFFFF` | 10px |

#### 입력창
- 배경: `#FFFFFF`
- 테두리: `#EEEEEE` (1px)
- 포커스 테두리: `#6B8E23`
- 모서리: 10px
- 높이: 48px

#### 카드 (게시물, 프로필 등)
- 배경: `#FFFFFF`
- 그림자: `0 2px 8px rgba(0, 0, 0, 0.08)`
- 모서리: 12px
- 패딩: 16px

#### 프로필 이미지
- 모서리: 완전 원형 (50%)
- 테두리: 없음 또는 `#EEEEEE` (1px)
- 크기: 40px (목록), 80px (프로필 페이지)

#### 하단 네비게이션
- 배경: `#FFFFFF`
- 높이: 56px
- 아이콘 크기: 24px
- 활성 아이콘: `#6B8E23`
- 비활성 아이콘: `#999999`

---

### 아이콘 스타일
- **스타일**: Outlined (선형)
- **굵기**: 1.5px ~ 2px
- **라이브러리**: Lucide Icons 또는 Heroicons
- **크기**: 20px (소), 24px (중), 32px (대)

---

### 간격 체계 (Spacing)
| 단위 | 크기 | 사용처 |
|------|------|--------|
| xs | 4px | 아이콘과 텍스트 사이 |
| sm | 8px | 요소 내부 간격 |
| md | 16px | 컴포넌트 간 기본 간격 |
| lg | 24px | 섹션 간 간격 |
| xl | 32px | 페이지 여백 |

---

### 애니메이션
- **전환 시간**: 200ms (기본), 300ms (모달)
- **이징**: ease-in-out
- **좋아요 애니메이션**: 스케일 bounce (1.0 → 1.2 → 1.0)


위 기획대로 구현을 진행하고, supabase mcp로 데이터베이스를 연결한 후에, 최종적으로 build된 파일을 netlify로 배포까지 진행해줘.